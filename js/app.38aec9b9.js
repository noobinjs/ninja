(function(e){function t(t){for(var r,i,s=t[0],o=t[1],l=t[2],u=0,f=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&f.push(c[i][0]),c[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var o=n[s];0!==c[o]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},c={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/ninja/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=o;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"55fd":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c=(n("4de4"),n("d3b7"),n("b0c0"),{class:"container mx-auto flex flex-col items-center bg-gray-100 p-4"}),a={class:"container"},i={class:"flex"},s={class:"max-w-xs"},o=Object(r["e"])("label",{for:"wallet",class:"block text-sm font-medium text-gray-700"},"Тикер",-1),l={class:"mt-1 relative rounded-md shadow-md"},d=Object(r["f"])('<div class="flex bg-white shadow-md p-1 rounded-md shadow-md flex-wrap"><span class="inline-flex items-center px-2 m-1 rounded-md text-xs font-medium bg-gray-300 text-gray-800 cursor-pointer"> BTC </span><span class="inline-flex items-center px-2 m-1 rounded-md text-xs font-medium bg-gray-300 text-gray-800 cursor-pointer"> DOGE </span><span class="inline-flex items-center px-2 m-1 rounded-md text-xs font-medium bg-gray-300 text-gray-800 cursor-pointer"> BCH </span><span class="inline-flex items-center px-2 m-1 rounded-md text-xs font-medium bg-gray-300 text-gray-800 cursor-pointer"> CHD </span></div>',1),u={key:0,class:"text-sm text-red-600"},f=Object(r["e"])("svg",{class:"-ml-0.5 mr-2 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"#ffffff"},[Object(r["e"])("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})],-1),b=Object(r["g"])(" Добавить "),p=[f,b],g=Object(r["g"])(" Фильтр: "),h=Object(r["e"])("hr",{class:"w-full border-t border-gray-600 my-4"},null,-1),m={class:"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3"},j=["onClick"],y={class:"px-4 py-5 sm:p-6 text-center"},x={class:"text-sm font-medium text-gray-500 truncate"},O={class:"mt-1 text-3xl font-semibold text-gray-900"},v=Object(r["e"])("div",{class:"w-full border-t border-gray-200"},null,-1),w=["onClick"],k=Object(r["e"])("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"#718096","aria-hidden":"true"},[Object(r["e"])("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),S=Object(r["g"])("Удалить "),C=[k,S],M=Object(r["e"])("hr",{class:"w-full border-t border-gray-600 my-4"},null,-1),U={key:1,class:"relative"},D={class:"text-lg leading-6 font-medium text-gray-900 my-8"},P={class:"flex items-end border-gray-600 border-b border-l h-64"},z=Object(r["e"])("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.com/svgjs",version:"1.1",width:"30",height:"30",x:"0",y:"0",viewBox:"0 0 511.76 511.76",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve"},[Object(r["e"])("g",null,[Object(r["e"])("path",{d:"M436.896,74.869c-99.84-99.819-262.208-99.819-362.048,0c-99.797,99.819-99.797,262.229,0,362.048    c49.92,49.899,115.477,74.837,181.035,74.837s131.093-24.939,181.013-74.837C536.715,337.099,536.715,174.688,436.896,74.869z     M361.461,331.317c8.341,8.341,8.341,21.824,0,30.165c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    l-75.413-75.435l-75.392,75.413c-4.181,4.16-9.643,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    c-8.341-8.341-8.341-21.845,0-30.165l75.392-75.413l-75.413-75.413c-8.341-8.341-8.341-21.845,0-30.165    c8.32-8.341,21.824-8.341,30.165,0l75.413,75.413l75.413-75.413c8.341-8.341,21.824-8.341,30.165,0    c8.341,8.32,8.341,21.824,0,30.165l-75.413,75.413L361.461,331.317z",fill:"#718096","data-original":"#000000"})])],-1),T=[z];function I(e,t,n,f,b,k){return Object(r["j"])(),Object(r["d"])("div",c,[Object(r["e"])("div",a,[Object(r["e"])("section",null,[Object(r["e"])("div",i,[Object(r["e"])("div",s,[o,Object(r["e"])("div",l,[Object(r["n"])(Object(r["e"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return b.ticker=e}),onKeyup:t[1]||(t[1]=Object(r["o"])((function(){return k.add&&k.add.apply(k,arguments)}),["enter"])),type:"text",name:"wallet",id:"wallet",class:"block w-full pr-10 border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md",placeholder:"Например DOGE"},null,544),[[r["m"],b.ticker]])]),d,b.alredyInList?(Object(r["j"])(),Object(r["d"])("div",u," Такой тикер уже добавлен ")):Object(r["c"])("",!0)])]),Object(r["e"])("button",{onClick:t[2]||(t[2]=function(){return k.add&&k.add.apply(k,arguments)}),type:"button",class:"my-4 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},p)]),Object(r["e"])("div",null,[g,Object(r["n"])(Object(r["e"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return b.filter=e})},null,512),[[r["m"],b.filter]]),b.page>1?(Object(r["j"])(),Object(r["d"])("button",{key:0,onClick:t[4]||(t[4]=function(e){return b.page=b.page-1}),class:"my-4 mx-2 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Назад ")):Object(r["c"])("",!0),b.hasNextPage?(Object(r["j"])(),Object(r["d"])("button",{key:1,onClick:t[5]||(t[5]=function(e){return b.page=b.page+1}),class:"my-4 mx-2 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Вперед ")):Object(r["c"])("",!0)]),b.tickers.length?(Object(r["j"])(),Object(r["d"])(r["a"],{key:0},[h,Object(r["e"])("dl",m,[(Object(r["j"])(!0),Object(r["d"])(r["a"],null,Object(r["k"])(k.filteredTiclers(),(function(e){return Object(r["j"])(),Object(r["d"])("div",{key:e.name,onClick:function(t){return k.select(e)},class:Object(r["h"])([{"border-4":b.sel==e},"bg-white overflow-hidden shadow rounded-lg border-purple-800 border-solid cursor-pointer"])},[Object(r["e"])("div",y,[Object(r["e"])("dt",x,Object(r["l"])(e.name)+" - USD ",1),Object(r["e"])("dd",O,Object(r["l"])(e.price),1)]),v,Object(r["e"])("button",{onClick:Object(r["p"])((function(t){return k.handleDelete(e)}),["stop"]),class:"flex items-center justify-center font-medium w-full bg-gray-100 px-4 py-4 sm:px-6 text-md text-gray-500 hover:text-gray-600 hover:bg-gray-200 hover:opacity-20 transition-all focus:outline-none"},C,8,w)],10,j)})),128))]),M],64)):Object(r["c"])("",!0),b.sel?(Object(r["j"])(),Object(r["d"])("section",U,[Object(r["e"])("h3",D,Object(r["l"])(b.sel.name)+" - USD ",1),Object(r["e"])("div",P,[(Object(r["j"])(!0),Object(r["d"])(r["a"],null,Object(r["k"])(k.normolizeGraph(),(function(e,t){return Object(r["j"])(),Object(r["d"])("div",{key:t,style:Object(r["i"])({height:"".concat(e,"%")}),class:"bg-purple-800 border w-10"},null,4)})),128))]),Object(r["e"])("button",{onClick:t[6]||(t[6]=function(e){return b.sel=null}),type:"button",class:"absolute top-0 right-0"},T)])):Object(r["c"])("",!0)])])}var L=n("2909"),_=n("1da1"),V=(n("96cf"),n("c1f9"),n("ddb0"),n("3ca3"),n("2b3d"),n("9861"),n("159b"),n("caad"),n("2532"),n("fb6a"),n("7db0"),n("b680"),n("e9c4"),n("d81d"),n("99af"),{name:"App",data:function(){return{ticker:"",tickers:[],sel:null,graph:[],coins:[],page:1,filter:"",alredyInList:!1,hasNextPage:!0}},created:function(){var e=this,t=Object.fromEntries(new URL(window.location).searchParams.entries());t.filter&&(this.filter=t.filter),t.page&&(this.page=t.page);var n=localStorage.getItem("crypto");n&&(this.tickers=JSON.parse(n),this.tickers.forEach((function(t){e.subscribeToUpdates(t.name)})))},methods:{filteredTiclers:function(){var e=this,t=6*(this.page-1),n=6*this.page,r=this.tickers.filter((function(t){return t.name.includes(e.filter)}));return this.hasNextPage=r.length>n,r.slice(t,n)},subscribeToUpdates:function(e){var t=this;setInterval(Object(_["a"])(regeneratorRuntime.mark((function n(){var r,c,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://min-api.cryptocompare.com/data/price?fsym=".concat(e,"&tsyms=USD&api_key=439ad0b8bbb256d14ba43eafbbe67a5296ac956c50a105aa44e9e4dd9167bfcf"));case 2:return c=n.sent,n.next=5,c.json();case 5:a=n.sent,t.tickers.find((function(t){return t.name==e})).price=a.USD>1?a.USD.toFixed(2):a.USD.toPrecision(2),(null===(r=t.sel)||void 0===r?void 0:r.name)==e&&t.graph.push(a.USD);case 8:case"end":return n.stop()}}),n)}))),3e3)},add:function(){var e={name:this.ticker,price:"-"};this.tickers.find((function(t){return t.name.includes(e.name)}))?this.alredyInList=!0:(this.alredyInList=!1,this.tickers.push(e),localStorage.setItem("crypto",JSON.stringify(this.tickers)),this.subscribeToUpdates(e.name),this.ticker="",this.filter="")},select:function(e){this.sel=e,this.graph=[]},handleDelete:function(e){this.tickers=this.tickers.filter((function(t){return t!=e}))},normolizeGraph:function(){var e=Math.max.apply(Math,Object(L["a"])(this.graph)),t=Math.min.apply(Math,Object(L["a"])(this.graph));return this.graph.map((function(n){return 5+95*(n-t)/(e-t)}))}},watch:{filter:function(){this.page=1,window.history.pushState(null,document.title,"".concat(window.location.pathname,"?filter=").concat(this.filter,"&page= ").concat(this.page))},page:function(){window.history.pushState(null,document.title,"".concat(window.location.pathname,"?filter=").concat(this.filter,"&page= ").concat(this.page))}}}),B=(n("eea2"),n("6b0d")),H=n.n(B);const N=H()(V,[["render",I]]);var E=N;n("ba8c");Object(r["b"])(E).mount("#app")},ba8c:function(e,t,n){},eea2:function(e,t,n){"use strict";n("55fd")}});
//# sourceMappingURL=app.38aec9b9.js.map